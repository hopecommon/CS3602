{
  "model_name_or_path": "EleutherAI/pythia-2.8b",
  "data_json": "data/pg19/long_context_20000.json",
  "params": {
    "prefix_tokens": 20000,
    "gen_tokens": 512,
    "start_size": 4,
    "recent_size": 2048,
    "prefill_chunk_size": 256,
    "recompute_window_tokens": 2048,
    "recompute_keep_start": false
  },
  "runs": {
    "streaming": {
      "raw_stdout": "StartRecentKVCache: 4, 2048\nmode: streaming\nmodel_type: gpt_neox\nprefix_tokens: 20000\ngen_tokens_requested: 512\ngen_tokens_produced: 512\nprefill_seconds: 4.3647\ndecode_seconds: 13.9275\ndecode_tokens_per_second: 36.76\nkv_len_after_prefill: 2052\nkv_len_after_decode: 2052\ncuda:0 prefill_peak_allocated_mb=7823.5 prefill_peak_reserved_mb=8562.0\ncuda:1 prefill_peak_allocated_mb=0.0 prefill_peak_reserved_mb=0.0\ncuda:2 prefill_peak_allocated_mb=0.0 prefill_peak_reserved_mb=0.0\ncuda:3 prefill_peak_allocated_mb=0.0 prefill_peak_reserved_mb=0.0\ncuda:4 prefill_peak_allocated_mb=0.0 prefill_peak_reserved_mb=0.0\ncuda:5 prefill_peak_allocated_mb=0.0 prefill_peak_reserved_mb=0.0\ncuda:6 prefill_peak_allocated_mb=0.0 prefill_peak_reserved_mb=0.0\ncuda:7 prefill_peak_allocated_mb=0.0 prefill_peak_reserved_mb=0.0\ncuda:0 decode_peak_allocated_mb=8086.0 decode_peak_reserved_mb=8936.0\ncuda:1 decode_peak_allocated_mb=0.0 decode_peak_reserved_mb=0.0\ncuda:2 decode_peak_allocated_mb=0.0 decode_peak_reserved_mb=0.0\ncuda:3 decode_peak_allocated_mb=0.0 decode_peak_reserved_mb=0.0\ncuda:4 decode_peak_allocated_mb=0.0 decode_peak_reserved_mb=0.0\ncuda:5 decode_peak_allocated_mb=0.0 decode_peak_reserved_mb=0.0\ncuda:6 decode_peak_allocated_mb=0.0 decode_peak_reserved_mb=0.0\ncuda:7 decode_peak_allocated_mb=0.0 decode_peak_reserved_mb=0.0\n",
      "mode": "streaming",
      "model_type": "gpt_neox",
      "prefix_tokens": 20000,
      "gen_tokens_requested": 512,
      "gen_tokens_produced": 512,
      "prefill_seconds": 4.3647,
      "decode_seconds": 13.9275,
      "decode_tokens_per_second": 36.76,
      "kv_len_after_prefill": "2052",
      "kv_len_after_decode": "2052",
      "cuda": {
        "0": {
          "prefill_peak_allocated_mb": 7823.5,
          "prefill_peak_reserved_mb": 8562.0,
          "decode_peak_allocated_mb": 8086.0,
          "decode_peak_reserved_mb": 8936.0
        },
        "1": {
          "prefill_peak_allocated_mb": 0.0,
          "prefill_peak_reserved_mb": 0.0,
          "decode_peak_allocated_mb": 0.0,
          "decode_peak_reserved_mb": 0.0
        },
        "2": {
          "prefill_peak_allocated_mb": 0.0,
          "prefill_peak_reserved_mb": 0.0,
          "decode_peak_allocated_mb": 0.0,
          "decode_peak_reserved_mb": 0.0
        },
        "3": {
          "prefill_peak_allocated_mb": 0.0,
          "prefill_peak_reserved_mb": 0.0,
          "decode_peak_allocated_mb": 0.0,
          "decode_peak_reserved_mb": 0.0
        },
        "4": {
          "prefill_peak_allocated_mb": 0.0,
          "prefill_peak_reserved_mb": 0.0,
          "decode_peak_allocated_mb": 0.0,
          "decode_peak_reserved_mb": 0.0
        },
        "5": {
          "prefill_peak_allocated_mb": 0.0,
          "prefill_peak_reserved_mb": 0.0,
          "decode_peak_allocated_mb": 0.0,
          "decode_peak_reserved_mb": 0.0
        },
        "6": {
          "prefill_peak_allocated_mb": 0.0,
          "prefill_peak_reserved_mb": 0.0,
          "decode_peak_allocated_mb": 0.0,
          "decode_peak_reserved_mb": 0.0
        },
        "7": {
          "prefill_peak_allocated_mb": 0.0,
          "prefill_peak_reserved_mb": 0.0,
          "decode_peak_allocated_mb": 0.0,
          "decode_peak_reserved_mb": 0.0
        }
      }
    },
    "recompute": {
      "raw_stdout": "mode: recompute\nmodel_type: gpt_neox\nprefix_tokens: 20000\ngen_tokens_requested: 512\ngen_tokens_produced: 512\nprefill_seconds: 0.0000\ndecode_seconds: 122.7228\ndecode_tokens_per_second: 4.17\nkv_len_after_prefill: 0\nkv_len_after_decode: 0\ncuda:0 prefill_peak_allocated_mb=5438.2 prefill_peak_reserved_mb=5566.0\ncuda:1 prefill_peak_allocated_mb=0.0 prefill_peak_reserved_mb=0.0\ncuda:2 prefill_peak_allocated_mb=0.0 prefill_peak_reserved_mb=0.0\ncuda:3 prefill_peak_allocated_mb=0.0 prefill_peak_reserved_mb=0.0\ncuda:4 prefill_peak_allocated_mb=0.0 prefill_peak_reserved_mb=0.0\ncuda:5 prefill_peak_allocated_mb=0.0 prefill_peak_reserved_mb=0.0\ncuda:6 prefill_peak_allocated_mb=0.0 prefill_peak_reserved_mb=0.0\ncuda:7 prefill_peak_allocated_mb=0.0 prefill_peak_reserved_mb=0.0\ncuda:0 decode_peak_allocated_mb=7023.3 decode_peak_reserved_mb=7222.0\ncuda:1 decode_peak_allocated_mb=0.0 decode_peak_reserved_mb=0.0\ncuda:2 decode_peak_allocated_mb=0.0 decode_peak_reserved_mb=0.0\ncuda:3 decode_peak_allocated_mb=0.0 decode_peak_reserved_mb=0.0\ncuda:4 decode_peak_allocated_mb=0.0 decode_peak_reserved_mb=0.0\ncuda:5 decode_peak_allocated_mb=0.0 decode_peak_reserved_mb=0.0\ncuda:6 decode_peak_allocated_mb=0.0 decode_peak_reserved_mb=0.0\ncuda:7 decode_peak_allocated_mb=0.0 decode_peak_reserved_mb=0.0\n",
      "mode": "recompute",
      "model_type": "gpt_neox",
      "prefix_tokens": 20000,
      "gen_tokens_requested": 512,
      "gen_tokens_produced": 512,
      "prefill_seconds": 0.0,
      "decode_seconds": 122.7228,
      "decode_tokens_per_second": 4.17,
      "kv_len_after_prefill": "0",
      "kv_len_after_decode": "0",
      "cuda": {
        "0": {
          "prefill_peak_allocated_mb": 5438.2,
          "prefill_peak_reserved_mb": 5566.0,
          "decode_peak_allocated_mb": 7023.3,
          "decode_peak_reserved_mb": 7222.0
        },
        "1": {
          "prefill_peak_allocated_mb": 0.0,
          "prefill_peak_reserved_mb": 0.0,
          "decode_peak_allocated_mb": 0.0,
          "decode_peak_reserved_mb": 0.0
        },
        "2": {
          "prefill_peak_allocated_mb": 0.0,
          "prefill_peak_reserved_mb": 0.0,
          "decode_peak_allocated_mb": 0.0,
          "decode_peak_reserved_mb": 0.0
        },
        "3": {
          "prefill_peak_allocated_mb": 0.0,
          "prefill_peak_reserved_mb": 0.0,
          "decode_peak_allocated_mb": 0.0,
          "decode_peak_reserved_mb": 0.0
        },
        "4": {
          "prefill_peak_allocated_mb": 0.0,
          "prefill_peak_reserved_mb": 0.0,
          "decode_peak_allocated_mb": 0.0,
          "decode_peak_reserved_mb": 0.0
        },
        "5": {
          "prefill_peak_allocated_mb": 0.0,
          "prefill_peak_reserved_mb": 0.0,
          "decode_peak_allocated_mb": 0.0,
          "decode_peak_reserved_mb": 0.0
        },
        "6": {
          "prefill_peak_allocated_mb": 0.0,
          "prefill_peak_reserved_mb": 0.0,
          "decode_peak_allocated_mb": 0.0,
          "decode_peak_reserved_mb": 0.0
        },
        "7": {
          "prefill_peak_allocated_mb": 0.0,
          "prefill_peak_reserved_mb": 0.0,
          "decode_peak_allocated_mb": 0.0,
          "decode_peak_reserved_mb": 0.0
        }
      }
    }
  },
  "speedup_streaming_vs_recompute": 8.815347721822542
}
